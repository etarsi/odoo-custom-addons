<odoo>
  <data>
    <!-- explicit list view definition -->
    <record id="view_stock_erp_tree" model="ir.ui.view">
        <field name="name">stock.erp.tree</field>
        <field name="model">stock.erp</field>
        <field name="arch" type="xml">
            <tree>
              <header>
                  <button name="get_stock_wms" type="object" string="Actualizar Stock"/>
                  <button name="create_initial_products" type="object" string="Crear Productos"/>
                  <button name="update_uxb" type="object" string="Actualizar UXB"/>
                  <button name="set_to_zero" type="object" string="Borrar stock"/>
                </header>
                <field name="product_id" invisible="1"/>
                <field name="product_code"/>
                <field name="product_name"/>
                <field name="uxb"/>
                <field name="fisico_unidades" optional="show"/>
                <field name="enelagua_unidades" optional="show"/>
                <field name="total_unidades" optional="hide"/>
                <field name="comprometido_unidades" optional="hide"/>
                <field name="disponible_unidades" optional="show"/>
                <field name="entregable_unidades" optional="show"/>

                <field name="fisico_bultos" optional="hide"/>
                <field name="enelagua_bultos" optional="hide"/>
                <field name="total_bultos" optional="hide"/>
                <field name="comprometido_bultos" optional="hide"/>
                <field name="disponible_bultos" optional="hide"/>
                <field name="entregable_bultos" optional="hide"/>
            </tree>
        </field>
    </record>

    <record id="view_stock_erp_form" model="ir.ui.view">
        <field name="name">stock.erp.form</field>
        <field name="model">stock.erp</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                  <group>
                    <field name="product_id"/>
                    <field name="product_category"/>
                    <field name="comprometido_unidades" optional="hide"/>
                    <field name="disponible_unidades" optional="show"/>
                  </group>
                  <group>
                    <notebook>
                      <page string="Comprometido En">
                          <field name="move_lines_reserved" mode="tree" readonly="1">
                            <tree string="Return Items">
                                <field name="sale_id" string="Pedido"/>
                                <field name="partner_id" string="Cliente"/>
                                <field name="quantity" string="Cantidad" sum="Total"/>
                                <field name="uxb" string="UxB"/>
                                <field name="bultos" string="Bultos" sum="Total"/>      
                                <button name="unreserve_stock" type="object" string="Liberar"/>               
                            </tree>
                          </field>
                      </page>
                      <page string="Preparado En">
                          <field name="move_lines_prepared" mode="tree" readonly="1">
                            <tree editable="bottom" string="Delivered Items">
                                <field name="picking_id" string="Transferencia"/>
                                <field name="partner_id" string="Cliente"/>
                                <field name="quantity" string="Cantidad" sum="Total"/>
                                <field name="uxb" string="UxB"/>
                                <field name="bultos" string="Bultos" sum="Total"/>                
                            </tree>
                          </field>
                      </page>
                      <page string="Entregado En">
                          <field name="move_lines_delivered" mode="tree" readonly="1">
                            <tree editable="bottom" string="Delivered Items">
                                <field name="picking_id" string="Transferencia"/>
                                <field name="partner_id" string="Cliente"/>
                                <field name="quantity" string="Cantidad" sum="Total"/>
                                <field name="uxb" string="UxB"/>
                                <field name="bultos" string="Bultos" sum="Total"/>                
                            </tree>
                          </field>
                      </page>
                    </notebook>
                  </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- AcciÃ³n para abrir la vista tree -->

    <record id="action_stock_erp_tree" model="ir.actions.act_window">
        <field name="name">Stock ERP</field>
        <field name="res_model">stock.erp</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- actions opening views on models -->
<!--
    <record model="ir.actions.act_window" id="stock_erp.action_window">
      <field name="name">stock_erp window</field>
      <field name="res_model">stock_erp.stock_erp</field>
      <field name="view_mode">tree,form</field>
    </record>
-->

    <!-- server action to the one above -->
<!--
    <record model="ir.actions.server" id="stock_erp.action_server">
      <field name="name">stock_erp server</field>
      <field name="model_id" ref="model_stock_erp_stock_erp"/>
      <field name="state">code</field>
      <field name="code">
        action = {
          "type": "ir.actions.act_window",
          "view_mode": "tree,form",
          "res_model": model._name,
        }
      </field>
    </record>
-->

    <!-- Top menu item -->
    


    <!-- menu categories -->

    <!-- <menuitem name="Stock" id="stock_erp.stock" parent="stock_erp.menu_root"/> -->

<!--
    <menuitem name="Menu 2" id="stock_erp.menu_2" parent="stock_erp.menu_root"/>
-->
    <!-- actions -->
<!--
    <menuitem name="List" id="stock_erp.menu_1_list" parent="stock_erp.menu_1"
              action="stock_erp.action_window"/>
    <menuitem name="Server to list" id="stock_erp" parent="stock_erp.menu_2"
              action="stock_erp.action_server"/>
-->
  </data>
</odoo>