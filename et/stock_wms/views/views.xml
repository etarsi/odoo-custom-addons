<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- Vista TREE -->
    <record id="view_stock_wms_tree" model="ir.ui.view">
        <field name="name">stock.wms.tree</field>
        <field name="model">stock.wms</field>
        <field name="arch" type="xml">
            <tree>
                <field name="product_id"/>
                <field name="uxb"/>
                <field name="fisico_unidades"/>
            </tree>
            <toolbar>
                <action name="action_copiar_stock_real" string="Copiar stock real"/>
            </toolbar>
        </field>
    </record>

    <!-- Acción para abrir la vista tree -->
    <record id="action_stock_wms_tree" model="ir.actions.act_window">
        <field name="name">Stock WMS</field>
        <field name="res_model">stock.wms</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No hay registros de stock WMS todavía.
            </p>
        </field>
    </record>

    <!-- Menú
    <menuitem id="menu_stock_wms_root" name="Stock WMS" sequence="10"/>
    <menuitem id="menu_stock_wms_list" name="Listado" parent="menu_stock_wms_root"
              action="action_stock_wms_tree" sequence="10"/> -->

    <record id="action_copiar_stock_real" model="ir.actions.server">
      <field name="name">Copiar stock real</field>
      <field name="model_id" ref="stock_wms.model_stock_wms"/>
      <field name="binding_model_id" ref="stock_wms.model_stock_wms"/>
      <field name="binding_type">action</field>
      <field name="state">code</field>
      <field name="code">
          env['stock.wms'].create_initial_products()
      </field>
      <field name="usage">ir_actions_server</field>
    </record>


</odoo>
