<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="account_payment_group_form_view_inherit" model="ir.ui.view">
        <field name="name">account.payment.group.form.view.inherit</field>
        <field name="model">account.payment.group</field>
        <field name="inherit_id" ref="account_payment_group.view_account_payment_group_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='payment_date']" position="before">
                <field name="archived" invisible="1"/>
            </xpath>

            <!--  
                <xpath expr="//sheet" position="inside">
                    <div attrs="{'invisible': [('paid_date_venc_html','=',False)]}">
                        <field name="paid_date_venc_html" widget="html" nolabel="1"/>
                    </div>
                </xpath>
            -->
                            
            <!-- ARCHIVADO -->
            <xpath expr="//div[@name='button_box']" position="after">
                <widget name="web_ribbon" title="Archivado" bg_color="bg-danger"
                    attrs="{'invisible': [('archived','!=', True)]}"/>
            </xpath>

            <!-- MENSAJE DE PAGO FUERA DE FECHA 
                <xpath expr="//field[@name='payment_date']" position="before">
                    <div class="text-danger"
                        style="font-weight:700; font-size:16px; margin:8px 0; white-space:pre-line;"
                        attrs="{'invisible': ['|', ('state','!=','draft'), ('is_paid_date_venc_text','=', False)]}">
                        <field name="paid_date_venc_text" readonly="1" nolabel="1"/>
                    </div>
                    <field name="is_paid_date_venc_text" invisible="1"/>
                </xpath>
            -->
        </field>
    </record>

    <record id="account_payment_group_tree_view_inherit" model="ir.ui.view">
        <field name="name">account.payment.group.tree.view.inherit</field>
        <field name="model">account.payment.group</field>
        <field name="inherit_id" ref="account_payment_group.view_account_payment_group_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="inside">
                <field name="archived" invisible="1"/>
            </xpath>
        </field>
    </record>

    <record id="account_payment_group_search_view_inherit" model="ir.ui.view">
        <field name="name">account.payment.group.search.view.inherit</field>
        <field name="model">account.payment.group</field>
        <field name="inherit_id" ref="account_payment_group.view_account_payment_group_search"/>
        <field name="arch" type="xml">
            <xpath expr="//search" position="inside">
                <filter name="archived" string="Archivados" domain="[('archived','=',True)]"/>
            </xpath>
        </field>
    </record>

    <record id="account_payment_group.action_account_payments_group" model="ir.actions.act_window">
        <field name="context">{'default_partner_type': 'customer', 'search_default_not_cancelled': 1, 'archived': False}</field>
    </record>
</odoo>