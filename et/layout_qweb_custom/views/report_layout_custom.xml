<odoo>
    <data>
        <template id="external_layout_custom">
            <t t-call="web.html_container">
                <t t-if="not o and docs" t-set="o" t-value="docs[0]"/>
                <t t-set="company" t-value="company or (o and o.company_id) or env.company"/>
                <t t-set="report_type" t-value="report_type or 'pdf'"/>
                <div t-attf-class="header o_company_#{company.id}_layout o_custom_header">

                    <div class="row mb-2">
                        <div class="col-6">
                            <img t-if="company.logo"
                                 t-att-src="image_data_uri(company.logo)"
                                 style="max-height:70px;"
                                 alt="Logo"/>
                        </div>
                        <div class="col-6 text-right">
                            <h3 class="mt-0 mb-1" t-field="company.name"/>
                            <div t-field="company.partner_id"
                                 t-options="{'widget': 'contact', 'fields': ['address'], 'no_marker': True}"
                                 style="font-size: 10px;"/>
                            <div t-if="company.website" style="font-size: 9px;">
                                <span t-field="company.website"/>
                            </div>
                        </div>
                    </div>
                    <!-- Barra de color tipo “striped” -->
                    <div style="height:4px;background-color:#4CAF50;margin-bottom:8px;"></div>
                    <!-- Bloque extra de cabecera de documento -->
                    <div class="row">
                        <div class="col-6" t-if="o and hasattr(o, 'partner_id')">
                            <strong>Destinatario</strong><br/>
                            <div t-field="o.partner_id"
                                 t-options="{'widget': 'contact', 'fields': ['name', 'address'], 'no_marker': True}"
                                 style="font-size: 10px;"/>
                        </div>
                        <div class="col-6 text-right">
                            <div t-if="o and o.name" style="font-size: 11px;">
                                <strong>Número:</strong> <span t-field="o.name"/>
                            </div>
                            <div t-if="o and hasattr(o, 'date')" style="font-size: 10px;">
                                <strong>Fecha:</strong> <span t-field="o.date"/>
                            </div>
                            <div t-if="o and hasattr(o, 'invoice_date')" style="font-size: 10px;">
                                <strong>Fecha:</strong> <span t-field="o.invoice_date"/>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== CUERPO DEL REPORTE ===== -->
                <div t-attf-class="article o_company_#{company.id}_layout o_custom_article">
                    <t t-raw="0"/>
                </div>
                <!-- ===== FOOTER ===== -->
                <div t-attf-class="footer o_company_#{company.id}_layout o_custom_footer o_background_footer">
                    <div class="text-center"
                         style="font-size: 9px;border-top: 1px solid #ddd;padding-top:4px;">
                        <ul class="list-inline mb-1">
                            <li t-if="company.phone" class="list-inline-item">
                                Tel: <span class="o_force_ltr" t-field="company.phone"/>
                            </li>
                            <li t-if="company.email" class="list-inline-item">
                                Email: <span t-field="company.email"/>
                            </li>
                            <li t-if="company.website" class="list-inline-item">
                                Web: <span t-field="company.website"/>
                            </li>
                            <li t-if="company.vat" class="list-inline-item">
                                CUIT: <span t-field="company.vat"/>
                            </li>
                        </ul>
                        <div t-if="report_type == 'pdf'" class="text-muted">
                            Página <span class="page"/> / <span class="topage"/>
                        </div>
                    </div>
                </div>
            </t>
        </template>
    </data>
</odoo>
